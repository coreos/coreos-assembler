<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# cosa

```go
import "github.com/coreos/gangplank/cosa"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func BuilderArch() string](<#func-builderarch>)
- [func CanArtifact(artifact string) bool](<#func-canartifact>)
- [func SetSchemaFromFile(r io.Reader) error](<#func-setschemafromfile>)
- [func init()](<#func-init>)
- [type AliyunImage](<#type-aliyunimage>)
- [type Amis](<#type-amis>)
- [type Artifact](<#type-artifact>)
- [type Build](<#type-build>)
  - [func ParseBuild(path string) (*Build, error)](<#func-parsebuild>)
  - [func ReadBuild(dir, buildID, arch string) (*Build, string, error)](<#func-readbuild>)
  - [func buildParser(r io.Reader) (*Build, error)](<#func-buildparser>)
  - [func (build *Build) GetArtifact(artifact string) (*Artifact, error)](<#func-build-getartifact>)
  - [func (build *Build) IsArtifact(path string) (string, bool)](<#func-build-isartifact>)
  - [func (build *Build) Validate() []error](<#func-build-validate>)
  - [func (build *Build) WriteMeta(path string, validate bool) error](<#func-build-writemeta>)
  - [func (build *Build) artifacts() map[string]*Artifact](<#func-build-artifacts>)
- [type BuildArtifacts](<#type-buildartifacts>)
- [type Cloudartifact](<#type-cloudartifact>)
- [type Gcp](<#type-gcp>)
- [type Git](<#type-git>)
- [type Image](<#type-image>)
- [type Items](<#type-items>)
- [type PackageSetDifferences](<#type-packagesetdifferences>)
- [type buildsJSON](<#type-buildsjson>)
  - [func getBuilds(dir string) (*buildsJSON, error)](<#func-getbuilds>)
  - [func (b *buildsJSON) getLatest(arch string) (string, bool)](<#func-buildsjson-getlatest>)


## Constants

```go
const (
    // CosaBuildsJSON is the COSA build.json file name
    CosaBuildsJSON = "builds.json"
)
```

```go
const (
    // CosaMetaJSON is the meta.json file
    CosaMetaJSON = "meta.json"
)
```

## Variables

```go
var (
    // ErrMetaFailsValidation is thrown on reading and invalid meta.json
    ErrMetaFailsValidation = errors.New("meta.json failed schema validation")

    // ErrMetaNotFound is thrown when a meta.json cannot be found
    ErrMetaNotFound = errors.New("meta.json was not found")
)
```

```go
var (
    // ErrNoBuildsFound is thrown when a build is missing
    ErrNoBuildsFound = errors.New("no COSA builds found")
)
```

```go
var (
    // SchemaJSON Schema document. Default the generated Schema.
    SchemaJSON = generatedSchemaJSON
)
```

```go
var generatedSchemaJSON = `{
 "definitions": {
     "artifact": {
         "type": "object",
         "properties": {
           "path": {
             "$id": "#/artifact/Path",
             "type":"string",
             "title":"Path"
            },
           "sha256": {
             "$id": "#/artifact/sha256",
             "type":"string",
             "title":"SHA256"
            },
           "size": {
             "$id": "#/artifact/size",
             "type":"integer",
             "title":"Size in bytes"
            },
           "uncompressed-sha256": {
             "$id": "#/artifact/uncompressed-sha256",
             "type":"string",
             "title":"Uncompressed SHA256"
            },
           "uncompressed-size": {
             "$id": "#/artifact/uncompressed-size",
             "type":"integer",
             "title":"Uncompressed-size"
            }
          },
          "optional": [
              "size",
              "uncompressed-sha256",
              "uncompressed-size"
          ],
          "required": [
              "path",
              "sha256"
          ]
        },
     "image": {
         "type": "object",
         "required": [
             "digest",
             "image"
         ],
         "optional": [
             "comment"
         ],
         "properties": {
           "digest": {
             "$id": "#/image/digest",
             "type":"string",
             "title":"Digest"
            },
           "comment": {
             "$id": "#/image/comment",
             "type":"string",
             "title":"Comment"
            },
           "image": {
             "$id": "#/image/image",
             "type":"string",
             "title":"Image"
            }
          }
      },
      "cloudartifact": {
         "type": "object",
         "required": [
             "image",
             "url"
         ],
         "properties": {
           "image": {
             "$id":"#/cloudartifact/image",
             "type":"string",
             "title":"Image"
            },
           "url": {
             "$id":"#/cloudartifact/url",
             "type":"string",
             "title":"URL"
            }
          }
     },
     "git": {
         "type": "object",
         "required": [
             "commit",
             "origin"
         ],
         "optional": [
             "branch",
             "dirty"
         ],
         "properties": {
           "branch": {
             "$id":"#/git/branch",
             "type":"string",
             "title":"branch",
             "default":"",
             "examples": [
               "HEAD"
              ],
             "minLength": 3
            },
           "commit": {
             "$id":"#/git/commit",
             "type":"string",
             "title":"commit",
             "default":"",
             "examples": [
               "742edc307e58f35824d906958b6493510e12b593"
              ],
             "minLength": 5
           },
           "dirty": {
             "$id":"#/git/dirty",
             "type":"string",
             "title":"dirty",
             "default":"",
             "examples": [
               "true"
              ],
             "minLength": 1
           },
           "origin": {
             "$id":"#/git/origin",
             "type":"string",
             "title":"origin",
             "default":"",
             "examples": [
               "https://github.com/coreos/fedora-coreos-config"
              ],
             "minLength": 1
            }
          }
     },
     "pkg-items": {
       "type":"array",
       "title":"Package Set differences",
       "items": {
         "$id":"#/pkgdiff/items/item",
         "title":"Items",
         "default":"",
         "minLength": 1
        }
      }
 },
 "$schema":"http://json-schema.org/draft-07/schema#",
 "$id":"http://github.com/coreos/coreos-assembler/blob/main/schema/v1.json",
 "type":"object",
 "title":"CoreOS Assember v1 meta.json schema",
 "required": [
     "buildid",
     "name",
     "ostree-commit",
     "ostree-content-checksum",
     "ostree-timestamp",
     "ostree-version",
     "rpm-ostree-inputhash",
     "summary"
 ],
 "optional": [
   "aliyun",
   "amis",
   "azure",
   "azurestack",
   "build-url",
   "digitalocean",
   "exoscale",
   "gcp",
   "ibmcloud",
   "images",
   "oscontainer",
   "parent-pkgdiff",
   "pkgdiff",
   "release-payload",

   "coreos-assembler.basearch",
   "coreos-assembler.build-timestamp",
   "coreos-assembler.code-source",
   "coreos-assembler.config-dirty",
   "coreos-assembler.config-gitrev",
   "coreos-assembler.container-config-git",
   "coreos-assembler.container-image-git",
   "coreos-assembler.delayed-meta-merge",
   "coreos-assembler.image-config-checksum",
   "coreos-assembler.image-genver",
   "coreos-assembler.image-input-checksum",
   "coreos-assembler.meta-stamp",
   "coreos-assembler.overrides-active",
   "fedora-coreos.parent-commit",
   "fedora-coreos.parent-version",
   "ref"
 ],
 "additionalProperties":false,
 "properties": {
   "ref": {
     "$id":"#/properties/ref",
     "type":"string",
     "title":"BuildRef",
     "default":"",
     "minLength": 1
    },
   "build-url": {
     "$id":"#/properties/build-url",
     "type":"string",
     "title":"Build URL",
     "default":"",
     "minLength": 1
    },
   "buildid": {
     "$id":"#/properties/buildid",
     "type":"string",
     "title":"BuildID",
     "default":"",
     "minLength": 1
    },
   "coreos-assembler.basearch": {
     "$id":"#/properties/coreos-assembler.basearch",
     "type":"string",
     "title":"Architecture",
     "default":"",
     "minLength": 1
    },
   "coreos-assembler.build-timestamp": {
     "$id":"#/properties/coreos-assembler.build-timestamp",
     "type":"string",
     "title":"Build Time Stamp",
     "default":"",
     "minLength": 1
    },
   "coreos-assembler.code-source": {
     "$id":"#/properties/coreos-assembler.code-source",
     "type":"string",
     "title":"CoreOS Source",
     "default":"",
     "minLength": 1
    },
   "coreos-assembler.config-dirty": {
     "$id":"#/properties/coreos-assembler.config-dirty",
     "type":"string",
     "title":"GitDirty",
     "default":"",
     "minLength": 1
    },
   "coreos-assembler.config-gitrev": {
     "$id":"#/properties/coreos-assembler.config-gitrev",
     "type":"string",
     "title":"Config GitRev",
     "default":"",
     "minLength": 1
    },
   "coreos-assembler.container-config-git": {
     "$id":"#/properties/coreos-assembler.container-config-git",
     "type":"object",
     "title":"Container Config GIT",
     "$ref": "#/definitions/git"
    },
   "coreos-assembler.container-image-git": {
     "$id":"#/properties/coreos-assembler.container-image-git",
     "type":"object",
     "title":"COSA Container Image Git",
     "$ref": "#/definitions/git"
    },
   "coreos-assembler.delayed-meta-merge": {
     "$id":"#/properties/coreos-assembler.delayed-meta-merge",
     "type":"boolean",
     "title":"COSA Delayed Meta Merge",
     "default": "False"
    },
   "coreos-assembler.meta-stamp": {
     "$id":"#/properties/coreos-assembler.meta-stamp",
     "type":"number",
     "title":"Meta Stamp",
     "default":"",
     "minLength": 16
    },
    "fedora-coreos.parent-version": {
     "$id":"#/properties/fedora-coreos.parent-version",
     "type":"string",
     "title":"Fedora CoreOS Parent Version",
     "default":"",
     "minLength": 12
    },
    "fedora-coreos.parent-commit": {
     "$id":"#/properties/fedora-coreos.parent-commit",
     "type":"string",
     "title":"Fedora CoreOS parent commit",
     "default":"",
     "examples": [
       "f15f5b25cf138a7683e3d200c53ece2091bf71d31332135da87892ab72ff4ee3"
      ],
     "minLength": 64
    },
   "coreos-assembler.image-config-checksum": {
     "$id":"#/properties/coreos-assembler.image-config-checksum",
     "type":"string",
     "title":"COSA image checksum",
     "default":"",
     "minLength": 64
    },
   "coreos-assembler.image-genver": {
     "$id":"#/properties/coreos-assembler.image-genver",
     "type":"integer",
     "title":"COSA Image Version",
     "default": 0,
     "examples": [
        0
      ]
    },
   "coreos-assembler.image-input-checksum": {
     "$id":"#/properties/coreos-assembler.image-input-checksum",
     "type":"string",
     "title":"Image input checksum",
     "default":"",
     "minLength": 64
    },
   "coreos-assembler.overrides-active": {
     "$id":"#/properties/coreos-assembler.overrides-active",
     "title":"Overrides Active",
     "default":"",
     "type": "boolean"
    },
   "images": {
     "$id":"#/properties/images",
     "type":"object",
     "title":"Build Artifacts",
     "required": [
       "ostree"
      ],
     "optional": [
       "aliyun",
       "aws",
       "azure",
       "azurestack",
       "dasd",
       "digitalocean",
       "exoscale",
       "gcp",
       "ibmcloud",
       "initramfs",
       "iso",
       "kernel",
       "live-kernel",
       "live-initramfs",
       "live-iso",
       "live-rootfs",
       "metal",
       "metal4k",
       "openstack",
       "qemu",
       "vmware",
       "vultr"
      ],
     "properties": {
       "ostree": {
         "$id":"#/properties/images/properties/ostree",
         "type":"object",
         "title":"OSTree",
         "$ref": "#/definitions/artifact"
        },
       "dasd": {
         "$id":"#/properties/images/properties/dasd",
         "type":"object",
         "title":"dasd",
         "$ref": "#/definitions/artifact"
       },
       "exoscale": {
         "$id":"#/properties/images/properties/exoscale",
         "type":"object",
         "title":"exoscale",
         "$ref": "#/definitions/artifact"
       },
       "qemu": {
         "$id":"#/properties/images/properties/qemu",
         "type":"object",
         "title":"Qemu",
         "$ref": "#/definitions/artifact"
        },
       "metal": {
         "$id":"#/properties/images/properties/metal",
         "type":"object",
         "title":"Metal",
         "$ref": "#/definitions/artifact"
        },
       "metal4k": {
         "$id":"#/properties/images/properties/metal4k",
         "type":"object",
         "title":"Metal (4K native)",
         "$ref": "#/definitions/artifact"
        },
       "iso": {
         "$id":"#/properties/images/properties/iso",
         "type":"object",
         "title":"ISO",
         "$ref": "#/definitions/artifact"
        },
       "kernel": {
         "$id":"#/properties/images/properties/kernel",
         "type":"object",
         "title":"Kernel",
         "$ref": "#/definitions/artifact"
        },
       "initramfs": {
         "$id":"#/properties/images/properties/initramfs",
         "type":"object",
         "title":"Initramfs",
         "$ref": "#/definitions/artifact"
        },
       "live-kernel": {
         "$id":"#/properties/images/properties/live-kernel",
         "type":"object",
         "title":"Live Kernel",
         "$ref": "#/definitions/artifact"
         },
       "live-initramfs": {
         "$id":"#/properties/images/properties/live-initramfs",
         "type":"object",
         "title":"Live Initramfs",
         "$ref": "#/definitions/artifact"
        },
       "live-iso": {
        "$id":"#/properties/images/properties/live-iso",
        "type":"object",
        "title":"Live ISO",
        "$ref": "#/definitions/artifact"
       },
       "live-rootfs": {
         "$id":"#/properties/images/properties/live-rootfs",
         "type":"object",
         "title":"Live Rootfs",
         "$ref": "#/definitions/artifact"
        },
       "openstack": {
         "$id":"#/properties/images/properties/openstack",
         "type":"object",
         "title":"OpenStack",
         "$ref": "#/definitions/artifact"
        },
       "vmware": {
         "$id":"#/properties/images/properties/vmware",
         "type":"object",
         "title":"VMWare",
         "$ref": "#/definitions/artifact"
        },
       "vultr": {
         "$id": "#/properties/images/properties/vultr",
         "type": "object",
         "title": "Vultr",
         "$ref": "#/definitions/artifact"
        },
       "aliyun": {
         "$id":"#/properties/images/properties/aliyun",
         "type":"object",
         "title":"Aliyun",
         "$ref": "#/definitions/artifact"
        },
       "aws": {
         "$id":"#/properties/images/properties/aws",
         "type":"object",
         "title":"AWS",
         "$ref": "#/definitions/artifact"
       },
       "azure": {
         "$id":"#/properties/images/properties/azure",
         "type":"object",
         "title":"Azure",
         "$ref": "#/definitions/artifact"
        },
       "azurestack": {
         "$id":"#/properties/images/properties/azurestack",
         "type":"object",
         "title":"AzureStack",
         "$ref": "#/definitions/artifact"
       },
       "digitalocean": {
         "$id":"#/properties/images/properties/digitalocean",
         "type":"object",
         "title":"DigitalOcean",
         "$ref": "#/definitions/artifact"
        },
       "ibmcloud": {
         "$id":"#/properties/images/properties/ibmcloud",
         "type":"object",
         "title":"IBM Cloud",
         "$ref": "#/definitions/artifact"
       },
       "gcp": {
         "$id":"#/properties/images/properties/gcp",
         "type":"object",
         "title":"GCP",
         "$ref": "#/definitions/artifact"
        }
      }
    },
   "name": {
     "$id":"#/properties/name",
     "type":"string",
     "title":"Name",
     "default":"fedora-coreos",
     "examples": [
       "rhcos",
       "fedora-coreos"
      ]
    },
   "oscontainer": {
     "$id":"#/properties/oscontainer",
     "type":"object",
     "title":"Oscontainer",
     "$ref": "#/definitions/image"
    },
   "ostree-commit": {
     "$id":"#/properties/ostree-commit",
     "type":"string",
     "title":"ostree-commit",
     "default":"",
     "minLength": 64
    },
   "ostree-content-checksum": {
     "$id":"#/properties/ostree-content-checksum",
     "type":"string",
     "title":"ostree-content-checksum",
     "default":"",
     "minLength": 64
    },
   "ostree-n-content-total": {
     "$id":"#/properties/ostree-n-content-total",
     "type":"integer",
     "title":"ostree-n-content-total",
     "default": 0
    },
   "ostree-timestamp": {
     "$id":"#/properties/ostree-timestamp",
     "type":"string",
     "title":"ostree timestamp",
     "default":"",
     "examples": [
       "2020-01-15T19:31:31Z"
      ],
     "pattern":"\\d{4}-\\d{2}-\\d{2}T.*Z$"
    },
   "ostree-version": {
     "$id":"#/properties/ostree-version",
     "type":"string",
     "title":"ostree version",
     "default":"",
     "minLength": 1
    },
   "pkgdiff": {
     "$id":"#/properties/pkgdiff",
     "type":"array",
     "title":"pkgdiff between builds",
     "$ref": "#/definitions/pkg-items"
    },
   "parent-pkgdiff": {
     "$id":"#/properties/parent-pkgdiff",
     "type":"array",
     "title":"pkgdiff against parent",
     "$ref": "#/definitions/pkg-items"
    },
   "rpm-ostree-inputhash": {
     "$id":"#/properties/rpm-ostree-inputhash",
     "type":"string",
     "title":"input has of the rpm-ostree",
     "default":"",
     "minLength": 64
    },
   "summary": {
     "$id":"#/properties/summary",
     "type":"string",
     "title":"Build Summary",
     "default":"",
     "minLength": 1
    },
   "aliyun": {
     "$id":"#/properties/aliyun",
     "type":"array",
     "title":"Alibaba/Aliyun Uploads",
     "items": {
       "$id":"#/properties/aliyun/images",
       "type":"object",
       "title":"Aliyun Image",
       "required": [
         "name",
         "id"
        ],
       "properties": {
         "name": {
           "$id":"#/properties/aliyun/items/properties/name",
           "type":"string",
           "title":"Region",
           "default":"",
           "minLength": 1
          },
         "id": {
           "$id":"#/properties/aliyun/items/properties/id",
           "type":"string",
           "title":"ImageID",
           "default":"",
           "minLength": 1
          }
        }
      }
    },
   "amis": {
     "$id":"#/properties/amis",
     "type":"array",
     "title":"AMIS",
     "items": {
       "$id":"#/properties/amis/items",
       "type":"object",
       "title":"AMIS",
       "required": [
         "name",
         "hvm",
         "snapshot"
        ],
       "properties": {
         "name": {
           "$id":"#/properties/amis/items/properties/name",
           "type":"string",
           "title":"Region",
           "default":""
          },
         "hvm": {
           "$id":"#/properties/amis/items/properties/hvm",
           "type":"string",
           "title":"HVM",
           "default":""
         },
         "snapshot": {
           "$id":"#/properties/amis/items/properties/snapshot",
           "type":"string",
           "title":"Snapshot",
           "default":""
          }
        }
      }
    },
   "azure": {
     "$id":"#/properties/azure",
     "type":"object",
     "title":"Azure",
     "$ref": "#/definitions/cloudartifact"
    },
   "gcp": {
     "$id":"#/properties/gcp",
     "type":"object",
     "title":"GCP",
     "required": [
         "image",
         "url"
     ],
     "optional": [
         "family",
         "project"
     ],
     "properties": {
       "image": {
         "$id":"#/properties/gcp/image",
         "type":"string",
         "title":"Image Name"
        },
       "url": {
         "$id":"#/properties/gcp/url",
         "type":"string",
         "title":"URL"
        },
       "project": {
         "$id":"#/properties/gcp/project",
         "type":"string",
         "title":"Image Project"
        },
       "family": {
         "$id":"#/properties/gcp/family",
         "type":"string",
         "title":"Image Family"
        }
      }
    },
    "release-payload": {
      "$id":"#/properties/release-payload",
      "type":"object",
      "title":"ReleasePayload",
      "$ref": "#/definitions/image"
    }
  }
}
`
```

## func BuilderArch

```go
func BuilderArch() string
```

BuilderArch converts the GOARCH to the build arch\. In other words\, it translates amd64 to x86\_64\.

## func CanArtifact

```go
func CanArtifact(artifact string) bool
```

CanArtifact reports whether an artifact name is buildable by COSA based on the meta\.json name\. CanArtifact is used to signal if the artifact is a known artifact type\.

## func SetSchemaFromFile

```go
func SetSchemaFromFile(r io.Reader) error
```

SetSchemaFromFile sets the validation JSON Schema

## func init

```go
func init()
```

## type AliyunImage

```go
type AliyunImage struct {
    ImageID string `json:"id"`
    Region  string `json:"name"`
}
```

## type Amis

```go
type Amis struct {
    Hvm      string `json:"hvm"`
    Region   string `json:"name"`
    Snapshot string `json:"snapshot"`
}
```

## type Artifact

```go
type Artifact struct {
    Path               string `json:"path"`
    Sha256             string `json:"sha256"`
    SizeInBytes        int    `json:"size,omitempty"`
    UncompressedSha256 string `json:"uncompressed-sha256,omitempty"`
    UncompressedSize   int    `json:"uncompressed-size,omitempty"`
}
```

## type Build

```go
type Build struct {
    AlibabaAliyunUploads      []AliyunImage         `json:"aliyun,omitempty"`
    Amis                      []Amis                `json:"amis,omitempty"`
    Architecture              string                `json:"coreos-assembler.basearch,omitempty"`
    Azure                     *Cloudartifact        `json:"azure,omitempty"`
    BuildArtifacts            *BuildArtifacts       `json:"images,omitempty"`
    BuildID                   string                `json:"buildid"`
    BuildRef                  string                `json:"ref,omitempty"`
    BuildSummary              string                `json:"summary"`
    BuildTimeStamp            string                `json:"coreos-assembler.build-timestamp,omitempty"`
    BuildURL                  string                `json:"build-url,omitempty"`
    ConfigGitRev              string                `json:"coreos-assembler.config-gitrev,omitempty"`
    ContainerConfigGit        *Git                  `json:"coreos-assembler.container-config-git,omitempty"`
    CoreOsSource              string                `json:"coreos-assembler.code-source,omitempty"`
    CosaContainerImageGit     *Git                  `json:"coreos-assembler.container-image-git,omitempty"`
    CosaDelayedMetaMerge      bool                  `json:"coreos-assembler.delayed-meta-merge,omitempty"`
    CosaImageChecksum         string                `json:"coreos-assembler.image-config-checksum,omitempty"`
    CosaImageVersion          int                   `json:"coreos-assembler.image-genver,omitempty"`
    FedoraCoreOsParentCommit  string                `json:"fedora-coreos.parent-commit,omitempty"`
    FedoraCoreOsParentVersion string                `json:"fedora-coreos.parent-version,omitempty"`
    Gcp                       *Gcp                  `json:"gcp,omitempty"`
    GitDirty                  string                `json:"coreos-assembler.config-dirty,omitempty"`
    ImageInputChecksum        string                `json:"coreos-assembler.image-input-checksum,omitempty"`
    InputHasOfTheRpmOstree    string                `json:"rpm-ostree-inputhash"`
    MetaStamp                 float64               `json:"coreos-assembler.meta-stamp,omitempty"`
    Name                      string                `json:"name"`
    Oscontainer               *Image                `json:"oscontainer,omitempty"`
    OstreeCommit              string                `json:"ostree-commit"`
    OstreeContentChecksum     string                `json:"ostree-content-checksum"`
    OstreeTimestamp           string                `json:"ostree-timestamp"`
    OstreeVersion             string                `json:"ostree-version"`
    OverridesActive           bool                  `json:"coreos-assembler.overrides-active,omitempty"`
    PkgdiffAgainstParent      PackageSetDifferences `json:"parent-pkgdiff,omitempty"`
    PkgdiffBetweenBuilds      PackageSetDifferences `json:"pkgdiff,omitempty"`
    ReleasePayload            *Image                `json:"release-payload,omitempty"`
}
```

### func ParseBuild

```go
func ParseBuild(path string) (*Build, error)
```

ParseBuild parses the meta\.json and reutrns a build

### func ReadBuild

```go
func ReadBuild(dir, buildID, arch string) (*Build, string, error)
```

ReadBuild returns a build upon finding a meta\.json\. If build is ""\, use latest

### func buildParser

```go
func buildParser(r io.Reader) (*Build, error)
```

### func \(\*Build\) GetArtifact

```go
func (build *Build) GetArtifact(artifact string) (*Artifact, error)
```

GetArtifact returns an artifact by JSON tag

### func \(\*Build\) IsArtifact

```go
func (build *Build) IsArtifact(path string) (string, bool)
```

IsArtifact takes a path and returns the artifact type and a bool if the artifact is described in the build\.

### func \(\*Build\) Validate

```go
func (build *Build) Validate() []error
```

Validate checks the build against the schema\.

### func \(\*Build\) WriteMeta

```go
func (build *Build) WriteMeta(path string, validate bool) error
```

WriteMeta records the meta\-data

### func \(\*Build\) artifacts

```go
func (build *Build) artifacts() map[string]*Artifact
```

artifact returns a string map of artifacts\, where the key is the JSON tag\. Reflection was over a case statement to make meta\.json and the schema authoritative for adding and removing artifacts\.

## type BuildArtifacts

```go
type BuildArtifacts struct {
    Aliyun        *Artifact `json:"aliyun,omitempty"`
    Aws           *Artifact `json:"aws,omitempty"`
    Azure         *Artifact `json:"azure,omitempty"`
    AzureStack    *Artifact `json:"azurestack,omitempty"`
    Dasd          *Artifact `json:"dasd,omitempty"`
    DigitalOcean  *Artifact `json:"digitalocean,omitempty"`
    Exoscale      *Artifact `json:"exoscale,omitempty"`
    Gcp           *Artifact `json:"gcp,omitempty"`
    IbmCloud      *Artifact `json:"ibmcloud,omitempty"`
    Initramfs     *Artifact `json:"initramfs,omitempty"`
    Iso           *Artifact `json:"iso,omitempty"`
    Kernel        *Artifact `json:"kernel,omitempty"`
    LiveInitramfs *Artifact `json:"live-initramfs,omitempty"`
    LiveIso       *Artifact `json:"live-iso,omitempty"`
    LiveKernel    *Artifact `json:"live-kernel,omitempty"`
    LiveRootfs    *Artifact `json:"live-rootfs,omitempty"`
    Metal         *Artifact `json:"metal,omitempty"`
    Metal4KNative *Artifact `json:"metal4k,omitempty"`
    OpenStack     *Artifact `json:"openstack,omitempty"`
    Ostree        Artifact  `json:"ostree"`
    Qemu          *Artifact `json:"qemu,omitempty"`
    Vmware        *Artifact `json:"vmware,omitempty"`
    Vultr         *Artifact `json:"vultr,omitempty"`
}
```

## type Cloudartifact

```go
type Cloudartifact struct {
    Image string `json:"image"`
    URL   string `json:"url"`
}
```

## type Gcp

```go
type Gcp struct {
    ImageFamily  string `json:"family,omitempty"`
    ImageName    string `json:"image"`
    ImageProject string `json:"project,omitempty"`
    URL          string `json:"url"`
}
```

## type Git

```go
type Git struct {
    Branch string `json:"branch,omitempty"`
    Commit string `json:"commit"`
    Dirty  string `json:"dirty,omitempty"`
    Origin string `json:"origin"`
}
```

## type Image

```go
type Image struct {
    Comment string `json:"comment,omitempty"`
    Digest  string `json:"digest"`
    Image   string `json:"image"`
}
```

## type Items

```go
type Items interface{}
```

## type PackageSetDifferences

```go
type PackageSetDifferences []Items
```

## type buildsJSON

buildsJSON represents the JSON that records the builds TODO: this should be generated by a schema

```go
type buildsJSON struct {
    SchemaVersion string `json:"schema-version"`
    Builds        []struct {
        ID     string   `json:"id"`
        Arches []string `json:"arches"`
    }   `json:"builds"`
    TimeStamp string `json:"timestamp"`
}
```

### func getBuilds

```go
func getBuilds(dir string) (*buildsJSON, error)
```

### func \(\*buildsJSON\) getLatest

```go
func (b *buildsJSON) getLatest(arch string) (string, bool)
```

getLatest returns the latest build for the arch\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
