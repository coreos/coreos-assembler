From adb3016947277a272bbc586053569c92448f2fa8 Mon Sep 17 00:00:00 2001
From: Dusty Mabe <dusty@dustymabe.com>
Date: Mon, 15 Jan 2024 16:14:50 -0500
Subject: [PATCH 4/4] fscache: add eviction log statement

This will help us know when the cache LRU policy is working.
---
 osbuild/util/fscache.py | 1 +
 1 file changed, 1 insertion(+)

diff --git a/osbuild/util/fscache.py b/osbuild/util/fscache.py
index 9057d53c..a2e6d374 100644
--- a/osbuild/util/fscache.py
+++ b/osbuild/util/fscache.py
@@ -1144,6 +1144,7 @@ class FsCache(contextlib.AbstractContextManager, os.PathLike):
                     # and finish the cleanup and update the cache size
                     # based on the size recorded inside "object.removing".
                     size = self._calculate_space(self._path(rpath))
+                    print(f"CACHE: evicting {rpath}")
                     self._rm_r_object(rpath)
                     self._update_cache_size(-size)
                     freed_so_far += size
-- 
2.43.0

